<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>贸易提单RWA系统 - 合规风控</title>
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="common.css">
  <style>
    /* 风控规则配置 */
    .rule-card {
      border-left: 4px solid var(--blue-primary);
      margin-bottom: 16px;
    }

    .rule-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--gray);
    }

    .rule-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text);
    }

    .rule-actions {
      display: flex;
      gap: 8px;
    }

    .rule-actions button {
      padding: 4px 8px;
      font-size: 12px;
    }

    .rule-item {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr 1fr;
      padding: 12px 0;
      border-bottom: 1px solid var(--gray);
      align-items: center;
    }

    .rule-item:last-child {
      border-bottom: none;
    }

    .rule-item-header {
      font-weight: 500;
      color: var(--text);
      background-color: var(--blue-light);
      padding: 8px 0;
    }

    .rule-switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 20px;
    }

    .rule-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .rule-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--gray);
      transition: .4s;
      border-radius: 20px;
    }

    .rule-slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 2px;
      bottom: 2px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .rule-slider {
      background-color: var(--blue-primary);
    }

    input:checked + .rule-slider:before {
      transform: translateX(20px);
    }

    /* 审查记录 */
    .review-filter {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
      flex-wrap: wrap;
      align-items: center;
    }

    .review-filter select, .review-filter input {
      padding: 8px 12px;
      border-radius: var(--radius);
      border: 1px solid var(--gray);
      font-size: 14px;
      min-width: 120px;
    }

    .review-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      display: inline-block;
    }

    .status-pass {
      background-color: var(--success);
      color: var(--white);
    }

    .status-risk {
      background-color: var(--warning);
      color: var(--white);
    }

    .status-reject {
      background-color: var(--danger);
      color: var(--white);
    }

    /* 风险评分 */
    .score-card {
      display: flex;
      align-items: center;
      gap: 24px;
      flex-wrap: wrap;
    }

    .score-circle {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: conic-gradient(var(--blue-primary) 85%, var(--gray-light) 0);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .score-inner {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: var(--white);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .score-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--blue-primary);
    }

    .score-label {
      font-size: 12px;
      color: var(--gray-dark);
    }

    .score-detail {
      flex: 1;
      min-width: 200px;
    }

    .score-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      .rule-item {
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }
      .rule-item-header {
        display: none;
      }
      .score-card {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <!-- 导航栏 -->
  <nav class="navbar">
    <div class="container">
      <a href="index.html" class="logo">
        <i class="fa-solid fa-ship"></i>
        <span>贸易提单RWA系统</span>
      </a>

      <div class="nav-menu">
        <a href="personal.html">首页</a>
        <a href="ebl.html">提单数字化</a>
        <a href="nft.html">资产代币化</a>
        <a href="finance.html">融资管理</a>
        <a href="compliance.html" class="active">合规风控</a>
        <a href="innovation.html">创新场景</a>
        <a href="help.html" class="nav-item">帮助中心</a>
      </div>

      
    </div>
  </nav>

  <!-- 页面内容 -->
  <div class="page-container">
    <div class="container">
      <h2 style="margin-bottom: 24px; color: var(--text); font-size: 20px;">
        合规风控 > 风控规则与审查管理
      </h2>

      <!-- 风险评分概览 -->
      <div class="card" style="margin-bottom: 24px;">
        <h3 style="font-size: 18px; color: var(--text); margin-bottom: 16px;">
          <i class="fa-solid fa-shield-virus" style="color: var(--blue-primary); margin-right: 8px;"></i>
          整体风险评分
        </h3>
        <div class="score-card">
          <div class="score-circle">
            <div class="score-inner">
              <div class="score-value">85</div>
              <div class="score-label">风险评分</div>
            </div>
          </div>
          <div class="score-detail">
            <div class="score-item">
              <div>提单真实性校验</div>
              <div>92分</div>
            </div>
            <div class="score-item">
              <div>贸易背景核查</div>
              <div>88分</div>
            </div>
            <div class="score-item">
              <div>反洗钱筛查</div>
              <div>80分</div>
            </div>
            <div class="score-item">
              <div>跨境合规审查</div>
              <div>85分</div>
            </div>
            <div class="score-item">
              <div>融资资质评估</div>
              <div>78分</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 风控规则配置 -->
      <div class="card rule-card">
        <div class="rule-header">
          <div class="rule-title">风控规则配置</div>
          <div class="rule-actions">
            <button class="btn btn-outline">
              <i class="fa-solid fa-plus"></i> 新增规则
            </button>
            <button class="btn btn-outline">
              <i class="fa-solid fa-upload"></i> 导入规则
            </button>
          </div>
        </div>

        <div class="rule-item rule-item-header">
          <div>规则名称</div>
          <div>规则描述</div>
          <div>触发阈值</div>
          <div>状态</div>
        </div>

        <div class="rule-item">
          <div>提单信息校验</div>
          <div>校验提单号、承运人、货物信息等字段完整性</div>
          <div>缺失≥2个字段</div>
          <div>
            <label class="rule-switch">
              <input type="checkbox" checked>
              <span class="rule-slider"></span>
            </label>
          </div>
        </div>

        <div class="rule-item">
          <div>反洗钱筛查</div>
          <div>核查交易主体是否在反洗钱黑名单中</div>
          <div>命中任意黑名单</div>
          <div>
            <label class="rule-switch">
              <input type="checkbox" checked>
              <span class="rule-slider"></span>
            </label>
          </div>
        </div>

        <div class="rule-item">
          <div>跨境合规审查</div>
          <div>校验目的国/地区贸易管制政策合规性</div>
          <div>涉及制裁国家/地区</div>
          <div>
            <label class="rule-switch">
              <input type="checkbox" checked>
              <span class="rule-slider"></span>
            </label>
          </div>
        </div>

        <div class="rule-item">
          <div>融资额度校验</div>
          <div>融资额不得超过货物价值80%</div>
          <div>融资额>80%货值</div>
          <div>
            <label class="rule-switch">
              <input type="checkbox" checked>
              <span class="rule-slider"></span>
            </label>
          </div>
        </div>

        <div class="rule-item">
          <div>交易频率监控</div>
          <div>单日同一主体交易次数限制</div>
          <div>单日≥5笔交易</div>
          <div>
            <label class="rule-switch">
              <input type="checkbox">
              <span class="rule-slider"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- 审查记录查询 -->
      <div class="card">
        <h3 style="font-size: 18px; color: var(--text); margin-bottom: 16px;">
          <i class="fa-solid fa-magnifying-glass-chart" style="color: var(--blue-primary); margin-right: 8px;"></i>
          审查记录查询
        </h3>

        <div class="review-filter">
          <select>
            <option value="">全部提单号</option>
            <option value="BL20250618001">BL20250618001</option>
            <option value="BL20250617003">BL20250617003</option>
          </select>
          <select>
            <option value="">全部审查类型</option>
            <option value="ebl">提单数字化审查</option>
            <option value="nft">NFT铸造审查</option>
            <option value="finance">融资申请审查</option>
          </select>
          <select>
            <option value="">全部审查状态</option>
            <option value="pass">通过</option>
            <option value="risk">风险提示</option>
            <option value="reject">拒绝</option>
          </select>
          <input type="date" placeholder="开始日期">
          <input type="date" placeholder="结束日期">
          <button class="btn btn-primary">
            <i class="fa-solid fa-search"></i> 查询
          </button>
        </div>

        <!-- 审查记录列表 -->
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
            <thead>
              <tr style="background-color: var(--blue-light);">
                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--gray);">审查编号</th>
                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--gray);">提单号</th>
                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--gray);">审查类型</th>
                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--gray);">审查时间</th>
                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--gray);">审查状态</th>
                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--gray);">操作</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">RC20250618001</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">BL20250618001</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">NFT铸造审查</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">2025-06-18 10:20</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);"><span class="review-status status-pass">通过</span></td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">
                  <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;">查看报告</button>
                </td>
              </tr>
              <tr>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">RC20250617002</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">BL20250617003</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">融资申请审查</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">2025-06-17 16:30</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);"><span class="review-status status-risk">风险提示</span></td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">
                  <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;">查看报告</button>
                  <button class="btn btn-primary" style="padding: 4px 8px; font-size: 12px; margin-left: 8px;">补充材料</button>
                </td>
              </tr>
              <tr>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">RC20250616003</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">BL20250616005</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">提单数字化审查</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">2025-06-16 09:15</td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);"><span class="review-status status-reject">拒绝</span></td>
                <td style="padding: 12px; border-bottom: 1px solid var(--gray);">
                  <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;">查看报告</button>
                  <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px; margin-left: 8px;">申诉</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 分页 -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 16px; font-size: 14px;">
          <div>共3条记录，当前第1页/共1页</div>
          <div>
            <button class="btn btn-outline" style="padding: 4px 12px; font-size: 12px;">上一页</button>
            <button class="btn btn-primary" style="padding: 4px 12px; font-size: 12px;">1</button>
            <button class="btn btn-outline" style="padding: 4px 12px; font-size: 12px;">下一页</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 风控规则开关交互
    const ruleSwitches = document.querySelectorAll('.rule-switch input');
    ruleSwitches.forEach(switchEl => {
      switchEl.addEventListener('change', () => {
        const ruleName = switchEl.closest('.rule-item').querySelector('div:first-child').textContent;
        if (switchEl.checked) {
          alert(`已启用【${ruleName}】规则`);
        } else {
          alert(`已禁用【${ruleName}】规则`);
        }
      });
    });

    // 新增规则按钮
    const addRuleBtn = document.querySelector('.rule-actions .btn:first-child');
    addRuleBtn.addEventListener('click', () => {
      alert('新增风控规则：\n1. 输入规则名称\n2. 配置规则描述\n3. 设置触发阈值\n4. 启用规则');
    });

    // 查看报告按钮
    const reportBtns = document.querySelectorAll('.review-status + td button:first-child');
    reportBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const reviewId = btn.closest('tr').querySelector('td:first-child').textContent;
        const status = btn.closest('tr').querySelector('.review-status').className.includes('status-pass') ? '通过' : 
                       btn.closest('tr').querySelector('.review-status').className.includes('status-risk') ? '风险提示' : '拒绝';
        
        let reportContent = `审查报告 - ${reviewId}\n`;
        reportContent += `审查状态：${status}\n`;
        reportContent += status === '通过' ? 
          '审查结论：所有校验项均符合风控规则要求，无风险点。' :
          status === '风险提示' ?
          '审查结论：提单贸易背景核查发现异常，需补充采购合同副本验证贸易真实性。' :
          '审查结论：提单号校验不通过，疑似伪造提单，拒绝本次申请。';
        
        alert(reportContent);
      });
    });

    // 补充材料/申诉按钮
    const actionBtns = document.querySelectorAll('.review-status + td button:last-child');
    actionBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        if (btn.textContent === '补充材料') {
          alert('请上传以下补充材料：\n1. 采购合同原件扫描件\n2. 货物报关单\n3. 企业营业执照副本');
        } else if (btn.textContent === '申诉') {
          alert('申诉理由：\n________________________\n\n请输入申诉理由，提交后1-3个工作日反馈结果');
        }
      });
    });

    // 筛选查询按钮
    const searchBtn = document.querySelector('.review-filter .btn-primary');
    searchBtn.addEventListener('click', () => {
      alert('审查记录查询条件已提交，共查询到3条符合条件的记录');
    });
  </script>
</body>
</html>